
Logging configuration:

Add the following lines to the <appserverinstall>/conf/log4j.xml file

   <appender name="SPORES_FILE" class="org.jboss.logging.appender.DailyRollingFileAppender">
      <errorHandler class="org.jboss.logging.util.OnlyOnceErrorHandler"/>
      <param name="File" value="${jboss.server.home.dir}/log/nci-spores.log"/>
      <param name="Append" value="true"/>

      <!-- Rollover at midnight each day -->
      <param name="DatePattern" value="'.'yyyy-MM-dd"/>

      <!-- Rollover at the top of each hour
      <param name="DatePattern" value="'.'yyyy-MM-dd-HH"/>
      -->

      <layout class="org.apache.log4j.PatternLayout">
         <!-- The default pattern: Date Priority [Category] Message\n -->
         <param name="ConversionPattern" value="%d %-5p [%c] %m%n"/>

         <!-- The full pattern: Date MS Priority [Category] (Thread:NDC) Message\n
         <param name="ConversionPattern" value="%d %-5r %-5p [%c] (%t:%x) %m%n"/>
          -->
      </layout>
   </appender>
   
   <!-- ======================= -->
   <!-- Setup the  camod category -->
   <!-- ======================= -->

   <category name="gov.nih.nci.camod.webapp.util">
     <priority value="DEBUG" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="gov.nih.nci.camod.webapp.form">
     <priority value="DEBUG" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="gov.nih.nci.camod.webapp.action">
     <priority value="DEBUG" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="gov.nih.nci.camod.util">
     <priority value="DEBUG" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="gov.nih.nci.camod.domain">
     <priority value="DEBUG" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="gov.nih.nci.camod">
     <priority value="ERROR" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="org.hibernate" additivity="false">
     <priority value="INFO" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>

   <category name="log4j.logger.org.hibernate.LazyInitializationException" additivity="false">
     <priority value="FATAL" />
     <appender-ref ref="CAMOD_FILE"/>
   </category>
   

DEPLOYMENT INSTRUCTIONS:

1. Copy the camod.war built on the build server to the Jboss402-app deploy folder.
2. Copy the EVSTree.war built on the build server to the Jboss402-app deploy folder.
3. Restart Jboss402 server, if necessary.
4. Verify if the apache configuration has been updated for camod and EVSTree aliases to point to the JBoss402 installation.
